<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/masterLayout.xhtml">

	<ui:define name="pageTitle">#{out.admin_title}</ui:define>
	<ui:define name="header">#{out.admin_title}</ui:define>


	<ui:define name="content">
		<h3>#{out.refresh_header}</h3>
		
		<h:form id="form">
		<p:panel header="#{out.refresh_panel}"
			footer="#{out.refresh_panel}" style="margin-bottom:20px">
				<p:tabView orientation="left" id = "tabView">
					<p:tab title="#{out.refresh_tab_producttypes}">
						<h:panelGrid>
								<p:row>
									<p:column>
										<p:dataTable id="productTypeTable" var="productType"
											value="#{refresh.productTypeList}"
											rowKey="#{productType.name}"
											emptyMessage="#{out.refresh_empty_message_product_types}">
											<f:facet name="header">
            									#{out.refresh_new_product_types}
        									</f:facet>
											<p:column headerText="#{out.refresh_name}">
												<h:outputText value="#{productType.name}" />
											</p:column>
											<p:column headerText="#{out.refresh_id}">
												<h:outputText value="#{productType.productTypeId}" />
											</p:column>
											<f:facet name="footer">			
												<p:commandButton value="#{out.refresh}" id = "refreshProductTypeButton"
													update=":form:tabView:productTypeTable"
													actionListener="#{refreshController.refreshProductsList}" >
													<p:confirm header="#{out.confirm}" message="#{out.confirmRefresh}" icon="ui-icon-alert" />
													</p:commandButton>		
											</f:facet>
										</p:dataTable>
									</p:column>
								</p:row>
						</h:panelGrid>
					</p:tab>
					<p:tab title="#{out.refresh_tab_warehouses}">
						<h:panelGrid>
							<p:row>
									<p:column>
										<p:dataTable id="warehouseTable" var="warehouse"
											value="#{refresh.warehouseList}"
											rowKey="#{warehouse.warehouseName}"
											emptyMessage="#{out.refresh_empty_message_warehouses}">
											<f:facet name="header">
            									#{out.refresh_new_warehouses}
        									</f:facet>
											<p:column headerText="#{out.refresh_name}">
												<h:outputText value="#{warehouse.warehouseName}" />
											</p:column>
											<p:column headerText="#{out.refresh_id}">
												<h:outputText value="#{warehouse.warehouseId}" />
											</p:column>
											<f:facet name="footer">			
												<p:commandButton value="#{out.refresh}" id = "refreshWarehousesButton"
													update=":form:tabView:warehouseTable"
													actionListener="#{refreshController.refreshWarehouseList}" >
													<p:confirm header="#{out.confirm}" message="#{out.confirmRefresh}" icon="ui-icon-alert" />
													</p:commandButton>		
											</f:facet>
										</p:dataTable>
									</p:column>
								</p:row>
						</h:panelGrid>
					</p:tab>
					<p:tab title="#{out.refresh_tab_clients}">
						<h:panelGrid>
							<p:row>
									<p:column>
										<p:dataTable id="clientTable" var="client"
											value="#{refresh.clientList}"
											rowKey="#{client.name}"
											emptyMessage="#{out.refresh_empty_message_clients}">
											<f:facet name="header">
            									#{out.refresh_new_clients}
        									</f:facet>
											<p:column headerText="#{out.refresh_name}">
												<h:outputText value="#{client.name}" />
											</p:column>
											<p:column headerText="#{out.refresh_id}">
												<h:outputText value="#{client.clientId}" />
											</p:column>
											<f:facet name="footer">			
												<p:commandButton value="#{out.refresh}" id = "refreshClientsButton"
													update=":form:tabView:clientTable"
													actionListener="#{refreshController.refreshClientList}" >
													<p:confirm header="#{out.confirm}" message="#{out.confirmRefresh}" icon="ui-icon-alert" />
													</p:commandButton>		
											</f:facet>
										</p:dataTable>
									</p:column>
								</p:row>
						</h:panelGrid>
					</p:tab>
				</p:tabView>
		</p:panel>
		
		</h:form>
		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			<div style="display: block; margin: 0px auto;">
				<p:commandButton value="#{out.yes}" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
					style="margin-left:20%;  float: left;" />
				<p:commandButton value="#{out.no}" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close"
					style="margin-right:20%;  float: right;" />
			</div>
		</p:confirmDialog>
	</ui:define>
</ui:composition>