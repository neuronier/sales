<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui"
	template="/templates/masterLayout.xhtml" xmlns:sec="http://www.springframework.org/security/tags">

	<ui:define name="pageTitle">#{out.admin_title}</ui:define>
	<ui:define name="header">#{out.admin_title}</ui:define>
	<ui:define name="head-extra">

	</ui:define>

	<ui:define name="content">
		<h:form id="reportForm">
			<p:panel id="report" header="Report">

				<p:tabView id="tabView" dynamic="true" cache="false">
					<p:ajax event="tabChange" listener="#{reportController.onTabChange}" />

					<p:tab title="Sales" id="tabSales">

						<p:tabView orientation="left" id="innerTabView" orientation="left" dynamic="true" cache="false">
							<p:ajax event="tabChange" listener="#{reportController.salesOnTabChange}" />

							<p:tab title="Product" id="product">
								<p:panelGrid columns="5">
									<p:outputLabel for="productFrom" value="From: " />
									<p:calendar id="productFrom" value="#{reportController.reportFrom}" />

									<p:outputLabel for="productTo" value="To: " />
									<p:calendar id="productTo" value="#{reportController.reportTo}" />

									<p:commandButton value="Generate" action="#{reportController.productReportGenerateBtnAction()}" update="@form" />
								</p:panelGrid>


							</p:tab>

							<p:tab title="Income" id="income">

							</p:tab>

							<p:tab title="Top offers" id="topOffers">

							</p:tab>
						</p:tabView>
					</p:tab>

					<p:tab title="Sales point" id="tabSalesPoint">
						<p:tabView orientation="left">
							<p:tab title="Product">

							</p:tab>

							<p:tab title="Income">

							</p:tab>

							<p:tab title="Top offers">

							</p:tab>
						</p:tabView>
					</p:tab>

					<p:tab title="Administraition" id="tabAdministration">

						<p:tabView id="innerTabView" orientation="left" dynamic="true" cache="false">
							<p:ajax event="tabChange" listener="#{reportController.adminOnTabChange}" />

							<p:tab title="Number of users" id="adminUserNumber">

								<p:panelGrid columns="5">
									<p:outputLabel for="adminFrom" value="From: " />
									<p:calendar id="adminFrom" value="#{reportController.reportFrom}" />

									<p:outputLabel for="adminTo" value="To: " />
									<p:calendar id="adminTo" value="#{reportController.reportTo}" />

									<p:commandButton value="Generate" action="#{reportController.adminUserNumGenerateBtnAction()}" update="@form" />

								</p:panelGrid>

								<p:dataTable value="">
									<p:columns value="#{reportController.adminUserRegNumberDetailsList}" var="element">
										<f:facet name="header">
											<h:outputText value="#{element.date}">
												<f:convertDateTime pattern="yyyy.MM" />
											</h:outputText>
										</f:facet>
										<h:outputText value="#{element.number}" />
									</p:columns>
								</p:dataTable>

								<p:chart type="line" model="#{reportController.adminUserNumberLineChart}" style="height:300px;" />
							</p:tab>

							<p:tab title="Number of clients" id="adminClientNumber">
								<p:panelGrid columns="5">
									<p:outputLabel for="adminClientFrom" value="From: " />
									<p:calendar id="adminClientFrom" value="#{reportController.reportFrom}" />

									<p:outputLabel for="adminClientTo" value="To: " />
									<p:calendar id="adminClientTo" value="#{reportController.reportTo}" />

									<p:commandButton value="Generate" action="#{reportController.adminClientNumGenerateBtnAction()}" update="@form" />

								</p:panelGrid>

								<p:dataTable value="">
									<p:columns value="#{reportController.adminClientRegNumberDetailsList}" var="element">
										<f:facet name="header">
											<h:outputText value="#{element.date}">
												<f:convertDateTime pattern="yyyy.MM" />
											</h:outputText>
										</f:facet>
										<h:outputText value="#{element.number}" />
									</p:columns>
								</p:dataTable>

								<p:chart type="line" model="#{reportController.adminClientNumberLineChart}" style="height:300px;" />

							</p:tab>

							<p:tab title="Issue" id="adminIssue">

							</p:tab>
						</p:tabView>
					</p:tab>
				</p:tabView>
			</p:panel>
		</h:form>

	</ui:define>
</ui:composition>