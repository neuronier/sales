<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" template="/templates/masterLayout.xhtml"
	xmlns:sec="http://www.springframework.org/security/tags">

	<ui:define name="pageTitle">#{out.admin_title}</ui:define>
	<ui:define name="header">#{out.admin_title}</ui:define>
	<ui:define name="head-extra">

	</ui:define>

	<ui:define name="content">
		<h:form>
			<p:panel header="#{out.user_profile_personal_details}">

				<table>
					<tr>
						<td><h:outputText value="#{out.user_profile_name}: " /></td>
						<td><h:inputText value="#{userProfileController.name}" readonly="true" disabled="true" /></td>
					</tr>

					<tr>
						<td><h:outputText value="#{out.user_profile_username}: " /></td>
						<td><h:inputText value="#{userProfileController.userName}" readonly="true" disabled="true" /></td>
					</tr>

					<tr>
						<td><h:outputText value="#{out.user_profile_email}: " /></td>
						<td><p:inputText value="#{userProfileController.email}" validatorMessage="#{out.user_profile_invalid_email_format}">
								<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
							</p:inputText></td>
					</tr>

					<tr>
						<td colspan='2'><h:outputText value="#{out.user_profile_change_password}: " /></td>
					</tr>

					<tr>
						<td><h:outputLabel for="pwd" value="#{out.user_profile_old_password}: " /></td>
						<td><p:password id="pwd" value="#{userProfileController.oldPassword}" feedback="true" required="true"
								requiredMessage="#{out.user_profile_the_old_password_is_required}!" promptLabel="#{out.user_profile_please_enter_a_password}!"
								weakLabel="#{out.user_profile_week_label}" goodLabel="#{out.user_profile_good_label}" strongLabel="#{out.user_profile_strong_label}" /></td>
					</tr>

					<tr>
						<td><h:outputLabel for="pwd1" value="#{out.user_profile_new_password}: " /></td>
						<td><p:password id="pwd1" value="#{userProfileController.password}" match="pwd2" feedback="true" label="{out.user_profile_new_password}"
								validatorMessage="#{out.user_profile_the_new_passwords_not_match}!" promptLabel="#{out.user_profile_please_enter_a_password}!"
								weakLabel="#{out.user_profile_week_label}" goodLabel="#{out.user_profile_good_label}" strongLabel="#{out.user_profile_strong_label}" /></td>
					</tr>

					<tr>
						<td><h:outputLabel for="pwd2" value="#{out.user_profile_new_password_again}:" /></td>
						<td><p:password id="pwd2" value="#{userProfileController.password}" label="#{out.user_profile_new_password_again}" /></td>
					</tr>
				</table>
				<p:commandButton value="#{out.user_profile_save}" actionListener="#{userProfileController.saveChanges}" />
			</p:panel>
		</h:form>

		<h:form>
			<p:commandButton value="Download" ajax="false" icon="ui-icon-arrowthick-1-s">
				<p:fileDownload value="#{userProfileController.pdf}" />
			</p:commandButton>
		</h:form>

	</ui:define>
</ui:composition>